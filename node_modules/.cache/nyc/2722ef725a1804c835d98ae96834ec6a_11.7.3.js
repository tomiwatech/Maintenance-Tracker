'use strict';

var cov_2fzrqh236c = function () {
  var path = '/home/tomiwatech/Desktop/projects/Andela/bootCamp/Maintenance-Tracker/server/middlewares/validators/users.js',
      hash = '5a64b44ddaa579b014014db5baf37d65f641e66c',
      Function = function () {}.constructor,
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/home/tomiwatech/Desktop/projects/Andela/bootCamp/Maintenance-Tracker/server/middlewares/validators/users.js',
    statementMap: {
      '0': {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 20,
          column: 29
        }
      },
      '1': {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 24,
          column: 32
        }
      },
      '2': {
        start: {
          line: 26,
          column: 23
        },
        end: {
          line: 26,
          column: 44
        }
      },
      '3': {
        start: {
          line: 27,
          column: 8
        },
        end: {
          line: 29,
          column: 9
        }
      },
      '4': {
        start: {
          line: 28,
          column: 10
        },
        end: {
          line: 28,
          column: 67
        }
      },
      '5': {
        start: {
          line: 32,
          column: 21
        },
        end: {
          line: 32,
          column: 37
        }
      },
      '6': {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 36,
          column: 10
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 19,
            column: 4
          },
          end: {
            line: 19,
            column: 5
          }
        },
        loc: {
          start: {
            line: 19,
            column: 36
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 19
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }, {
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 29,
            column: 9
          }
        }],
        line: 27
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0
    },
    f: {
      '0': 0
    },
    b: {
      '0': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _check = require('express-validator/check');

var _filter = require('express-validator/filter');

var _filter2 = _interopRequireDefault(_filter);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var validateController = function () {
  function validateController() {
    _classCallCheck(this, validateController);
  }

  _createClass(validateController, null, [{
    key: 'validate',


    /**
     * Update an existing meal
     *
     * @staticmethod
     * @param  {object} req - Request object
     * @param {object} res - Response object
     * @param {function} next - middleware next (for error handling)
     * @return {json} res.json
     */
    value: function validate(req, res, next) {
      cov_2fzrqh236c.f[0]++;
      cov_2fzrqh236c.s[0]++;

      console.log(req.body);
      cov_2fzrqh236c.s[1]++;
      (0, _check.check)('name').exists(), (0, _check.check)('model').exists(), (0, _check.check)('description').exists(), (0, _check.check)('defect').exists();

      var errors = (cov_2fzrqh236c.s[2]++, (0, _check.validationResult)(req));
      cov_2fzrqh236c.s[3]++;
      if (!errors.isEmpty()) {
        cov_2fzrqh236c.b[0][0]++;
        cov_2fzrqh236c.s[4]++;

        return res.status(422).json({ errors: errors.mapped() });
      } else {
        cov_2fzrqh236c.b[0][1]++;
      }

      // matchedData returns only the subset of data validated by the middleware
      var user = (cov_2fzrqh236c.s[5]++, (0, _filter2.default)(req));
      cov_2fzrqh236c.s[6]++;
      return res.status(201).json({
        status: 'welcome',
        statusCode: '00'
      });
    }
  }]);

  return validateController;
}();

exports.default = validateController;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbInZhbGlkYXRlQ29udHJvbGxlciIsInJlcSIsInJlcyIsIm5leHQiLCJjb25zb2xlIiwibG9nIiwiYm9keSIsImV4aXN0cyIsImVycm9ycyIsImlzRW1wdHkiLCJzdGF0dXMiLCJqc29uIiwibWFwcGVkIiwidXNlciIsInN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7Ozs7Ozs7O0lBS01BLGtCOzs7Ozs7Ozs7QUFHRjs7Ozs7Ozs7OzZCQVNnQkMsRyxFQUFLQyxHLEVBQUtDLEksRUFBTTtBQUFBO0FBQUE7O0FBQzVCQyxjQUFRQyxHQUFSLENBQVlKLElBQUlLLElBQWhCO0FBRDRCO0FBRTVCLHdCQUFNLE1BQU4sRUFBY0MsTUFBZCxJQUNBLGtCQUFNLE9BQU4sRUFBZUEsTUFBZixFQURBLEVBRUEsa0JBQU0sYUFBTixFQUFxQkEsTUFBckIsRUFGQSxFQUdBLGtCQUFNLFFBQU4sRUFBZ0JBLE1BQWhCLEVBSEE7O0FBS0EsVUFBTUMsaUNBQVMsNkJBQWlCUCxHQUFqQixDQUFULENBQU47QUFQNEI7QUFRNUIsVUFBSSxDQUFDTyxPQUFPQyxPQUFQLEVBQUwsRUFBdUI7QUFBQTtBQUFBOztBQUNyQixlQUFPUCxJQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBRUgsUUFBUUEsT0FBT0ksTUFBUCxFQUFWLEVBQXJCLENBQVA7QUFDRCxPQUZEO0FBQUE7QUFBQTs7QUFJQTtBQUNBLFVBQU1DLCtCQUFPLHNCQUFZWixHQUFaLENBQVAsQ0FBTjtBQWI0QjtBQWM1QixhQUFPQyxJQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDeEJELGdCQUFPLFNBRGlCO0FBRXhCSSxvQkFBWTtBQUZZLE9BQXJCLENBQVA7QUFLSDs7Ozs7O2tCQUdVZCxrQiIsImZpbGUiOiJ1c2Vycy5qcyIsInNvdXJjZVJvb3QiOiIvaG9tZS90b21pd2F0ZWNoL0Rlc2t0b3AvcHJvamVjdHMvQW5kZWxhL2Jvb3RDYW1wL01haW50ZW5hbmNlLVRyYWNrZXIvc2VydmVyL21pZGRsZXdhcmVzL3ZhbGlkYXRvcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVjaywgdmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJ2V4cHJlc3MtdmFsaWRhdG9yL2NoZWNrJztcbmltcG9ydCBtYXRjaGVkRGF0YSBmcm9tICdleHByZXNzLXZhbGlkYXRvci9maWx0ZXInO1xuXG5cblxuXG5jbGFzcyB2YWxpZGF0ZUNvbnRyb2xsZXIge1xuXG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYW4gZXhpc3RpbmcgbWVhbFxuICAgICAqXG4gICAgICogQHN0YXRpY21ldGhvZFxuICAgICAqIEBwYXJhbSAge29iamVjdH0gcmVxIC0gUmVxdWVzdCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcmVzIC0gUmVzcG9uc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dCAtIG1pZGRsZXdhcmUgbmV4dCAoZm9yIGVycm9yIGhhbmRsaW5nKVxuICAgICAqIEByZXR1cm4ge2pzb259IHJlcy5qc29uXG4gICAgICovXG4gICAgc3RhdGljIHZhbGlkYXRlKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KVxuICAgICAgICBjaGVjaygnbmFtZScpLmV4aXN0cygpLFxuICAgICAgICBjaGVjaygnbW9kZWwnKS5leGlzdHMoKSxcbiAgICAgICAgY2hlY2soJ2Rlc2NyaXB0aW9uJykuZXhpc3RzKCksXG4gICAgICAgIGNoZWNrKCdkZWZlY3QnKS5leGlzdHMoKVxuXG4gICAgICAgIGNvbnN0IGVycm9ycyA9IHZhbGlkYXRpb25SZXN1bHQocmVxKTtcbiAgICAgICAgaWYgKCFlcnJvcnMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHsgZXJyb3JzOiBlcnJvcnMubWFwcGVkKCkgfSk7XG4gICAgICAgIH1cbiAgICAgICBcbiAgICAgICAgLy8gbWF0Y2hlZERhdGEgcmV0dXJucyBvbmx5IHRoZSBzdWJzZXQgb2YgZGF0YSB2YWxpZGF0ZWQgYnkgdGhlIG1pZGRsZXdhcmVcbiAgICAgICAgY29uc3QgdXNlciA9IG1hdGNoZWREYXRhKHJlcSk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBzdGF0dXM6J3dlbGNvbWUnLFxuICAgICAgICAgICAgc3RhdHVzQ29kZTogJzAwJ1xuICAgICAgICB9KVxuICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGVDb250cm9sbGVyO1xuXG4iXX0=