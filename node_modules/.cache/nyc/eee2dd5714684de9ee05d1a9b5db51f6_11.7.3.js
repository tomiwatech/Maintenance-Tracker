'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

var _bodyParser = require('body-parser');

var _bodyParser2 = _interopRequireDefault(_bodyParser);

var _morgan = require('morgan');

var _morgan2 = _interopRequireDefault(_morgan);

var _api = require('./api');

var _api2 = _interopRequireDefault(_api);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var PORT = process.env.PORT || 4422;
var app = (0, _express2.default)();
app.use(_bodyParser2.default.urlencoded({ extended: true }));
app.use(_bodyParser2.default.json());
app.use((0, _morgan2.default)('dev'));

// api versioning;
app.use('/api/v1', _api2.default);
app.get('/', function (req, res) {
  return res.send({ ok: true, message: 'Welcome to Maintenance Tracker', baseurl: '/api/v1' }).status(200);
});
app.listen(PORT, function () {
  if (process.env.NODE_ENV === 'dev') {
    /* eslint no-console: 0 */
    console.log('The Dev server is running on port ' + PORT);
  } else {
    console.log('The production server is now running at ' + PORT);
  }
});

exports.default = app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlBPUlQiLCJwcm9jZXNzIiwiZW52IiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJhcGkiLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kIiwib2siLCJtZXNzYWdlIiwiYmFzZXVybCIsInN0YXR1cyIsImxpc3RlbiIsIk5PREVfRU5WIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE9BQU9DLFFBQVFDLEdBQVIsQ0FBWUYsSUFBWixJQUFvQixJQUFqQztBQUNBLElBQU1HLE1BQU0sd0JBQVo7QUFDQUEsSUFBSUMsR0FBSixDQUFRQyxxQkFBV0MsVUFBWCxDQUFzQixFQUFFQyxVQUFVLElBQVosRUFBdEIsQ0FBUjtBQUNBSixJQUFJQyxHQUFKLENBQVFDLHFCQUFXRyxJQUFYLEVBQVI7QUFDQUwsSUFBSUMsR0FBSixDQUFRLHNCQUFPLEtBQVAsQ0FBUjs7QUFFQTtBQUNBRCxJQUFJQyxHQUFKLENBQVEsU0FBUixFQUFtQkssYUFBbkI7QUFDQU4sSUFBSU8sR0FBSixDQUFRLEdBQVIsRUFBYSxVQUFDQyxHQUFELEVBQU1DLEdBQU47QUFBQSxTQUFjQSxJQUFJQyxJQUFKLENBQVMsRUFBRUMsSUFBSSxJQUFOLEVBQVlDLFNBQVMsZ0NBQXJCLEVBQXVEQyxTQUFTLFNBQWhFLEVBQVQsRUFBc0ZDLE1BQXRGLENBQTZGLEdBQTdGLENBQWQ7QUFBQSxDQUFiO0FBQ0FkLElBQUllLE1BQUosQ0FBV2xCLElBQVgsRUFBaUIsWUFBTTtBQUNyQixNQUFJQyxRQUFRQyxHQUFSLENBQVlpQixRQUFaLEtBQXlCLEtBQTdCLEVBQW9DO0FBQ2xDO0FBQ0FDLFlBQVFDLEdBQVIsd0NBQWlEckIsSUFBakQ7QUFDRCxHQUhELE1BR087QUFDTG9CLFlBQVFDLEdBQVIsOENBQXVEckIsSUFBdkQ7QUFDRDtBQUNGLENBUEQ7O2tCQVNlRyxHIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3RvbWl3YXRlY2gvRGVza3RvcC9wcm9qZWN0cy9BbmRlbGEvYm9vdENhbXAvTWFpbnRlbmFuY2UtVHJhY2tlci9zZXJ2ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnbW9yZ2FuJztcbmltcG9ydCBhcGkgZnJvbSAnLi9hcGknO1xuXG5jb25zdCBQT1JUID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCA0NDIyO1xuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UobG9nZ2VyKCdkZXYnKSk7XG5cbi8vIGFwaSB2ZXJzaW9uaW5nO1xuYXBwLnVzZSgnL2FwaS92MScsIGFwaSk7XG5hcHAuZ2V0KCcvJywgKHJlcSwgcmVzKSA9PiByZXMuc2VuZCh7IG9rOiB0cnVlLCBtZXNzYWdlOiAnV2VsY29tZSB0byBNYWludGVuYW5jZSBUcmFja2VyJywgYmFzZXVybDogJy9hcGkvdjEnIH0pLnN0YXR1cygyMDApKTtcbmFwcC5saXN0ZW4oUE9SVCwgKCkgPT4ge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXYnKSB7XG4gICAgLyogZXNsaW50IG5vLWNvbnNvbGU6IDAgKi9cbiAgICBjb25zb2xlLmxvZyhgVGhlIERldiBzZXJ2ZXIgaXMgcnVubmluZyBvbiBwb3J0ICR7UE9SVH1gKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhgVGhlIHByb2R1Y3Rpb24gc2VydmVyIGlzIG5vdyBydW5uaW5nIGF0ICR7UE9SVH1gKTtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGFwcDtcbiJdfQ==